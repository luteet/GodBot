const body=document.querySelector("body"),html=document.querySelector("html");function validate(e,t){let i=e.value;if(0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(i))return t.preventDefault(),e.classList.add("_error"),e.onblur=function(){e.classList.remove("_error")},!1}let thisTarget;body.addEventListener("click",(function(e){thisTarget=e.target;let t=thisTarget.closest(".login__form--submit");if(t)if(t.classList.contains("_disabled"))e.preventDefault();else{let i=t.closest("form").querySelector(".email-input");i&&validate(i,e)}}));let verificationInputs=document.querySelectorAll(".login__verification--input");function checkInput(){for(let e=0;e<verificationInputs.length;e++)if(!verificationInputs[e].value)return!0}function timer(){document.querySelectorAll("._timer").forEach(e=>{let t=e.dataset.timer;t=Number(t.substring(0,e.dataset.timer.length-1));let i=setInterval(()=>{e.textContent=t+"s",0==t?(clearTimeout(i),e.parentElement.classList.remove("_disabled"),e.style.display="none",e.nextElementSibling.style.display="block"):t--},1e3)})}verificationInputs.forEach(e=>{e.oninput=function(t){if("insertText"==t.inputType){let i=t.target.parentElement.nextElementSibling,l=t.target.closest("form");i.classList.contains("login__verification--label")&&i.querySelector("input").focus(),e.value=e.value[e.value.length-1],checkInput()?l.querySelector(".login__form--submit").classList.add("_disabled"):l.querySelector(".login__form--submit").classList.remove("_disabled")}},e.addEventListener("keydown",(function(e){if("Backspace"==e.code||"Delete"==e.code){e.preventDefault(),e.target.value="";let t=e.target.parentElement.previousElementSibling,i=e.target.closest("form");t?t.classList.contains("login__verification--label")&&!e.target.value&&t.querySelector("input").focus():e.target.value="",checkInput()?i.querySelector(".login__form--submit").classList.add("_disabled"):i.querySelector(".login__form--submit").classList.remove("_disabled")}}))}),timer();