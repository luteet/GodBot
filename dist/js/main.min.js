const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll("._burger, .header__nav, body"),burger=document.querySelector("._burger"),header=document.querySelector(".header");function validate(e,t){let a=e.value;if(0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(a))return t.preventDefault(),e.classList.add("_error"),e.onblur=function(){e.classList.remove("_error")},!1}const headerBlocks=document.querySelectorAll(".header__select--block");let customPromptCheck=!0;function resize(){headerBlocks.forEach(e=>{e.getBoundingClientRect().x<0&&e.classList.add("_left")});let e=document.querySelector(".custom-prompt-message"),t=document.querySelector(".сustom-prompt");e&&t&&customPromptCheck&&(e.classList.remove("_visbile"),customPromptCheck=!1,setTimeout(()=>{e.remove(),t.classList.remove("_active"),customPromptCheck=!0},200))}resize(),window.onresize=resize;let chartTextColor,pageBg,width,height,gradient,chart=[];function getGradient(e,t,a,s){const r=t.right-t.left,l=t.bottom-t.top;return gradient&&width===r&&height===l||(width=r,height=l,gradient=e.createLinearGradient(0,t.bottom,0,t.top),gradient.addColorStop(0,"rgba(0,0,0,0)"),gradient.addColorStop(.7,s),gradient.addColorStop(1,a)),gradient}function chartFunc(e){let t=document.querySelector(e.id).getContext("2d");!function(e){let t=[];e.forEach((function(e){for(let a=0;a<24;a++)t.push(e)}))}(["01.07.22","02.07.22","03.07.22","04.07.22","05.07.22","06.07.22","07.07.22"]);const a={id:e.htmlLegendId,afterUpdate(t,a,s){const r=((e,t)=>{const a=document.getElementById(t);let s=a.querySelector("ul");return s||(s=document.createElement("ul"),s.style.display="flex",s.style.flexDirection="row",s.style.margin=0,s.style.padding=0,a.appendChild(s)),s})(0,e.legendContainer);for(r.classList.add("chart__settings-popup--list","m-0","p-0","mt-3");r.firstChild;)r.firstChild.remove();t.options.plugins.legend.labels.generateLabels(t).forEach(e=>{const a=document.createElement("li"),s=document.createElement("button");a.classList.add("chart__settings-popup--item"),a.style.setProperty("--line-type",e.lineDash.length?"dashed":"solid"),a.style.setProperty("--line-color",e.strokeStyle),s.classList.add("chart__settings-popup--btn","_active"),e.hidden&&s.classList.remove("_active"),a.onclick=()=>{const{type:a}=t.config;"pie"===a||"doughnut"===a?t.toggleDataVisibility(e.index):t.setDatasetVisibility(e.datasetIndex,!t.isDatasetVisible(e.datasetIndex)),t.update()},s.textContent=e.text,a.appendChild(s),r.appendChild(a)})}},s=new Image;s.src="../img/chart-logo.svg";const r={id:"custom_canvas_background_image",beforeDraw:e=>{if(s.complete){const t=e.ctx,{top:a,left:r,width:l,height:i}=e.chartArea;s.width=l/2,s.height=s.width/11;const o=r+l/2-s.width/2,c=a+i/2-s.height/2;t.drawImage(s,o,c,s.width,s.height)}else s.onload=()=>e.draw()}},l={id:"custom_canvas_background_color",beforeDraw:e=>{const{ctx:t}=e;t.save(),t.globalCompositeOperation="destination-over",t.fillStyle=pageBg,t.fillRect(0,0,e.width,e.height),t.restore()}};chart[chart.length]=new Chart(t,{type:"line",data:e.data,options:{responsive:!0,layout:e.layout,interaction:{intersect:!1},scales:{y:{grid:{display:!0,color:"#AFCDEB",borderDash:[5,5],borderColor:"rgba(0,0,0,0)"},title:e.yTitle,ticks:{color:chartTextColor,font:{family:"'Montserrat', sans-serif",size:12},callback:function(e){return e>=1e3?(e/1e3).toFixed(0)+"K":e}}},x:{ticks:{color:chartTextColor,font:{family:"'Montserrat', sans-serif",size:e.hideLabels?0:12}},grid:{display:!1,borderColor:"rgba(0,0,0,0)"}}},plugins:{htmlLegend:{containerID:e.legendContainer},tooltip:{enabled:!1,position:"nearest",external:e=>{const{chart:t,tooltip:a}=e,s=(e=>{let t=e.canvas.parentNode.querySelector("div");if(!t){t=document.createElement("div"),t.classList.add("chart__tooltip");let a=document.createElement("div");a.classList.add("chart__tooltip--body"),t.style.opacity=1,t.style.pointerEvents="none",t.style.transition="all .2s ease",t.appendChild(a),e.canvas.parentNode.appendChild(t)}return t})(t),r=document.createElement("div"),l=document.createElement("h4"),i=document.createElement("span"),o=document.createElement("strong");if(s.style.setProperty("--line-height","0px"),r.classList.add("chart__tooltip--body"),l.classList.add("chart__tooltip--title"),i.classList.add("chart__tooltip--date"),o.classList.add("chart__tooltip--price"),l.textContent=a.dataPoints[0].dataset.label,o.textContent="Price: "+a.dataPoints[0].formattedValue,0===a.opacity)return void(s.style.opacity=0);if(a.body){const e=a.title||[],t=a.body.map(e=>e.lines);e.forEach(e=>{i.textContent=e}),t.forEach((e,t)=>{a.labelColors[t]});const r=s.querySelector(".chart__tooltip--body");for(;r.firstChild;)r.firstChild.remove();r.appendChild(l),r.appendChild(i),r.appendChild(o)}const{offsetLeft:c,offsetTop:n}=t.canvas;let d=0;if(s.closest(".chart-crosshair")){s.closest(".chart-crosshair").querySelectorAll("canvas").forEach(e=>{d+=e.offsetHeight})}s.style.opacity=1,s.style.left=c+a.caretX+"px",s.style.top=n+a.caretY+"px",s.style.font=a.options.bodyFont.string,s.style.padding=a.options.padding+"px "+a.options.padding+"px",d&&s.style.setProperty("--line-height",t.chartArea.height-a.caretY+s.offsetHeight+70+"px")}},legend:{display:!!e.legend&&e.legend},labels:{display:!1,usePointStyle:!0}}},plugins:e.legendContainer&&e.htmlLegendId?[a,r,l]:[r,l]})}"dark"==localStorage.getItem("godbot-pro-theme")?(body.classList.add("_dark-theme"),chartTextColor="#9899A6",pageBg="rgba(0, 0, 0, 0)"):(body.classList.remove("_dark-theme"),chartTextColor="#262628",pageBg="#FFFFFF");let chartBar=[];function barChart(e){let t=document.querySelector(e.id).getContext("2d");chartBar[chartBar.length]=new Chart(t,{type:"bar",data:e.data,options:{legend:{display:!1},layout:e.layout,plugins:{tooltip:{enabled:!1,mode:"interpolate",intersect:!1},labels:{display:!1},legend:{display:!1,labels:{display:!1}}},scales:{x:{display:!1,stacked:!0,grid:{display:!1,borderColor:"rgba(0,0,0,0)"}},y:{stacked:!0,grid:{display:!1,borderColor:"rgba(0,0,0,0)"},ticks:{color:"rgba(0,0,0,0)"}}}}})}function counstructBarChart(e){const t=document.querySelector(e.id),a=e.chartId;if(t){let s,r,l;chart.forEach(e=>{e.canvas.id==a&&(l=e.data.labels.length,s=e.chartArea.width+e.chartArea.left,r=e.chartArea.left)});let i=e.data,o=[],c=document.createElement("div");c.classList.add("chart-bar");for(let e=0;e<i.length;e++)o.push(`\n      <div class="chart-bar-item">\n        <div class="chart-bar-item-plus">\n            <div class="chart-bar-item-value" style="height: ${i[e][0]}%;"></div>\n        </div>\n        <div class="chart-bar-item-minus">\n            <div class="chart-bar-item-value" style="height: ${i[e][1]}%"></div>\n        </div>\n      </div>`);o.forEach(e=>{c.insertAdjacentHTML("beforeEnd",e)}),t.append(c);let n=document.querySelectorAll(".chart-bar-item");c.style.width=s+s/l+"px",c.style.paddingLeft=r+"px",c.style.transform=`translateX(-${n[0].offsetWidth/2}px)`,window.onresize=function(){chart.forEach(e=>{e.canvas.id==a&&(s=e.chartArea.width+e.chartArea.left,r=e.chartArea.left)}),c.style.width=s+s/l+"px",c.style.paddingLeft=r+"px",c.style.transform=`translateX(-${n[0].offsetWidth/2}px)`},e.title&&t.insertAdjacentHTML("afterbegin",`<div class="chart-bar-title">${e.title}</div>`)}}let thisTarget,traderNavCheck=!0;body.addEventListener("click",(function(e){thisTarget=e.target,thisTarget.closest("._burger")&&menu.forEach(e=>{e.classList.toggle("_active")});let t=thisTarget.closest(".login__form--submit");if(t)if(t.classList.contains("_disabled"))e.preventDefault();else{let a=t.closest("form").querySelector(".email-input");a&&validate(a,e)}let a=thisTarget.closest(".login__verification--btn");a&&(a.classList.contains("_disabled")||(a.classList.add("_disabled"),timer()));let s=thisTarget.closest(".header__theme--switch");s&&(s.classList.toggle("_active"),s.classList.contains("_active")?(localStorage.setItem("godbot-pro-theme","dark"),body.classList.add("_dark-theme"),chartTextColor="#9899A6",pageBg="rgba(0, 0, 0, 0)",chart.length&&chart.forEach(e=>{e.options.scales.y.ticks.color=chartTextColor,e.options.scales.x.ticks.color=chartTextColor,e.update()})):s.classList.contains("_active")||(localStorage.setItem("godbot-pro-theme","light"),body.classList.remove("_dark-theme"),chartTextColor="#262628",pageBg="#FFFFFF",chart.length&&chart.forEach(e=>{e.options.scales.y.ticks.color=chartTextColor,e.options.scales.x.ticks.color=chartTextColor,e.update()})));let r=thisTarget.closest(".header__select--selected");r?r.classList.contains("_active")?document.querySelectorAll(".header__select--selected._active").forEach(e=>{e.classList.remove("_active")}):(document.querySelectorAll(".header__select--selected._active").forEach(e=>{e.classList.remove("_active")}),r.classList.add("_active")):thisTarget.closest(".header__select")||document.querySelectorAll(".header__select--selected._active").forEach(e=>{e.classList.remove("_active")});let l=thisTarget.closest(".header__profile--settings-open"),i=document.querySelector(".header__profile--settings");if(l?(e.preventDefault(),i.classList.add("_active")):thisTarget.closest(".header__profile--settings")&&thisTarget.closest(".header__profile--settings-open")&&!thisTarget.closest(".header__profile--settings-close")||i.classList.remove("_active"),thisTarget.closest(".chart__settings--link")){e.preventDefault();let t=document.querySelector(".chart__wrapper");t.parentElement.querySelector(".chart__settings-popup").classList.add("_active"),t.classList.add("_blur")}else if(!thisTarget.closest(".chart__settings-popup")&&!thisTarget.closest(".chart__settings-popup--btn")||thisTarget.closest(".chart__settings-popup--close")){let e=document.querySelector(".chart__wrapper"),t=!!e&&e.parentElement.querySelector(".chart__settings-popup");t&&(t.classList.remove("_active"),e.classList.remove("_blur"))}let o=thisTarget.closest(".trader__tab-nav--link");if(o&&(e.preventDefault(),traderNavCheck)){let e=o.parentElement,t=document.querySelector(".tab-wrapper"),a=o.getAttribute("href");if(!e.classList.contains("_active")&&traderNavCheck){traderNavCheck=!1,document.querySelectorAll(".trader__tab-nav--item").forEach(e=>{e.classList.remove("_prev"),e.classList.remove("_active"),e.classList.remove("_next")}),e.classList.add("_active");let s=e.nextElementSibling,r=e.previousElementSibling;r&&r.classList.add("_prev"),s&&s.classList.add("_next"),document.querySelectorAll(".tab-block").forEach(e=>{e.classList.remove("_visible"),t.style.minHeight=t.offsetHeight+"px",setTimeout(()=>{e.classList.remove("_active")},200)});let l=document.querySelector(a);setTimeout(()=>{l.classList.add("_active"),t.style.minHeight="0px",setTimeout(()=>{l.classList.add("_visible"),traderNavCheck=!0},100)},200)}}}));const tooltipTriggerList=document.querySelectorAll('[data-bs-toggle="tooltip"]'),tooltipList=[...tooltipTriggerList].map(e=>new bootstrap.Tooltip(e));let verificationInputs=document.querySelectorAll(".login__verification--input");function checkInput(){for(let e=0;e<verificationInputs.length;e++)if(!verificationInputs[e].value)return!0}function timer(){document.querySelectorAll("._timer").forEach(e=>{e.style.display="block",e.nextElementSibling.style.display="none";let t=e.dataset.timer;function a(){e.textContent=t+"s",0==t?(clearTimeout(s),e.parentElement.classList.remove("_disabled"),e.style.display="none",e.nextElementSibling.style.display="block"):t--}t=Number(t.substring(0,e.dataset.timer.length-1)),a();let s=setInterval(a,1e3)})}verificationInputs.forEach(e=>{e.oninput=function(t){if("insertText"==t.inputType){let a=t.target.parentElement.nextElementSibling,s=t.target.closest("form");e.value=e.value[e.value.length-1].replace(/\D/g,"").substr(0,9),a.classList.contains("login__verification--label")&&e.value&&a.querySelector("input").focus(),checkInput()?s.querySelector(".login__form--submit").classList.add("_disabled"):s.querySelector(".login__form--submit").classList.remove("_disabled")}},e.addEventListener("keydown",(function(e){if("Backspace"==e.key||"Delete"==e.key){e.preventDefault(),e.target.value="";let t=e.target.parentElement.previousElementSibling,a=e.target.closest("form");t?t.classList.contains("login__verification--label")&&!e.target.value&&t.querySelector("input").focus():e.target.value="",checkInput()?a.querySelector(".login__form--submit").classList.add("_disabled"):a.querySelector(".login__form--submit").classList.remove("_disabled")}}))}),timer();let loginSlider=new Swiper(".login__slider",{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:".swiper-pagination",clickable:!0}});