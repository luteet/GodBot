const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll("._burger, .header__nav, body"),burger=document.querySelector("._burger"),header=document.querySelector(".header");function copyToClipboard(e){if(e="string"==typeof e?document.querySelector(e):e,navigator.userAgent.match(/ipad|ipod|iphone/i)){var t=e.contentEditable,o=e.readOnly;e.contentEditable=!0,e.readOnly=!0;var a=document.createRange();a.selectNodeContents(e);var s=window.getSelection();s.removeAllRanges(),s.addRange(a),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=o}else navigator.clipboard.writeText(e.value).then(()=>{}).catch(e=>{console.log("Something went wrong",e)}),e.select();document.execCommand("copy")}let slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)},slideDown=(e,t=500)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let a=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=a+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)};!function(){var e={easing:{linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,o=1;;t+=o,o/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(o,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e){var t=new Date,o=setInterval((function(){var a=(new Date-t)/e.duration;a>1&&(a=1),e.progress=a;var s=e.delta(a);e.step(s),1==a&&(clearInterval(o),e.complete())}),e.delay||10)},fadeOut:function(t,o){this.animate({duration:o.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:o.complete,step:function(e){t.style.opacity=1-e}})},fadeIn:function(t,o){t.style.display="block",this.animate({duration:o.duration,delta:function(t){return t=this.progress,e.easing.swing(t)},complete:o.complete,step:function(e){t.style.opacity=0+e}})}};window.FX=e}();let popupCheck=!0,popupCheckClose=!0;function popup(e){if(popupCheck){popupCheck=!1;let o,a,s=e.duration?e.duration:200,i=e.id;try{o=document.querySelector(i),a=o.querySelectorAll("._popup-close")}catch{return!1}function t(e,t){popupCheckClose&&(popupCheckClose=!1,FX.fadeOut(e,{duration:s,complete:function(){e.style.display="none"}}),e.classList.remove("_active"),setTimeout(()=>{popupCheckClose=!0},s),t&&(header&&header.classList.remove("_popup-active"),setTimeout((function(){body.classList.remove("_popup-active"),html.style.setProperty("--popup-padding","0px")}),s)))}body.classList.remove("_popup-active"),html.style.setProperty("--popup-padding",window.innerWidth-body.offsetWidth+"px"),body.classList.add("_popup-active"),o.classList.add("_active"),header&&header.classList.add("_popup-active"),setTimeout((function(){FX.fadeIn(o,{duration:s,complete:function(){}})}),s),a.forEach(e=>{e.addEventListener("click",(function(){document.querySelectorAll(".popup._active").length<=1?t(o,!0):t(o,!1),setTimeout((function(){return!1}),s)}))}),setTimeout(()=>{popupCheck=!0},s)}}function scrollBarWidth(){let e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.append(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}function validate(e,t){let o=e.value;if(0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(o))return t.preventDefault(),e.parentElement.parentElement.classList.add("_error"),e.onblur=function(){e.parentElement.parentElement.classList.remove("_error")},!1}const headerBlocks=document.querySelectorAll(".header__select--block");let customPromptCheck=!0;function resize(){headerBlocks.forEach(e=>{e.getBoundingClientRect().x<0&&e.classList.add("_left")});let e=document.querySelector(".custom-prompt-message"),t=document.querySelector(".сustom-prompt");e&&t&&customPromptCheck&&(e.classList.remove("_visbile"),customPromptCheck=!1,setTimeout(()=>{e.remove(),t.classList.remove("_active"),customPromptCheck=!0},200))}resize(),window.onresize=resize;let chartTextColor,pageBg,width,height,gradient,chart=[];function getGradient(e,t,o,a){const s=t.right-t.left,i=t.bottom-t.top;return gradient&&width===s&&height===i||(width=s,height=i,gradient=e.createLinearGradient(0,t.bottom,0,t.top),gradient.addColorStop(0,"rgba(0,0,0,0)"),gradient.addColorStop(.7,a),gradient.addColorStop(1,o)),gradient}function chartFunc(e){let t=document.querySelector(e.id).getContext("2d");!function(e){let t=[];e.forEach((function(e){for(let o=0;o<24;o++)t.push(e)}))}(["01.07.22","02.07.22","03.07.22","04.07.22","05.07.22","06.07.22","07.07.22"]);const o={id:e.htmlLegendId,afterUpdate(t,o,a){const s=((e,t)=>{const o=document.getElementById(t);let a=o.querySelector("ul");return a||(a=document.createElement("ul"),a.style.display="flex",a.style.flexDirection="row",a.style.margin=0,a.style.padding=0,o.appendChild(a)),a})(0,e.legendContainer);for(s.classList.add("chart__settings-popup--list","m-0","p-0","mt-3");s.firstChild;)s.firstChild.remove();t.options.plugins.legend.labels.generateLabels(t).forEach(e=>{const o=document.createElement("li"),a=document.createElement("button");o.classList.add("chart__settings-popup--item"),o.style.setProperty("--line-type",e.lineDash.length?"dashed":"solid"),o.style.setProperty("--line-color",e.strokeStyle),a.classList.add("chart__settings-popup--btn","_active"),e.hidden&&a.classList.remove("_active"),o.onclick=()=>{const{type:o}=t.config;"pie"===o||"doughnut"===o?t.toggleDataVisibility(e.index):t.setDatasetVisibility(e.datasetIndex,!t.isDatasetVisible(e.datasetIndex)),t.update()},a.textContent=e.text,o.appendChild(a),s.appendChild(o)})}},a=new Image;a.src="js/chart-logo.svg";const s={id:"custom_canvas_background_image",beforeDraw:e=>{if(a.complete){const t=e.ctx,{top:o,left:s,width:i,height:r}=e.chartArea;a.width=i/2,a.height=a.width/11;const l=s+i/2-a.width/2,n=o+r/2-a.height/2;t.drawImage(a,l,n,a.width,a.height)}else a.onload=()=>e.draw()}},i={id:"custom_canvas_background_color",beforeDraw:e=>{const{ctx:t}=e;t.save(),t.globalCompositeOperation="destination-over",t.fillStyle=pageBg,t.fillRect(0,0,e.width,e.height),t.restore()}};let r;r=e.multipleData?{mode:"nearest",intersect:!1}:{intersect:!1},chart[chart.length]=new Chart(t,{type:"line",data:e.data,options:{responsive:!0,layout:e.layout,interaction:r,scales:{y:{grid:{display:!0,color:"rgba(129, 159, 189, 0.4)",borderDash:[5,5],borderColor:"rgba(0,0,0,0)"},title:e.yTitle,ticks:{color:chartTextColor,font:{family:"'Montserrat', sans-serif",size:12},callback:function(e){return e>=1e3?(e/1e3).toFixed(0)+"K":e}}},x:{display:!e.hideLabels,ticks:{color:chartTextColor,font:{family:"'Montserrat', sans-serif",size:12}},grid:{display:!1,borderColor:"rgba(0,0,0,0)"}}},plugins:{htmlLegend:{containerID:e.legendContainer},tooltip:{enabled:!1,position:"nearest",external:e=>{const{chart:t,tooltip:o}=e,a=(e=>{let t=e.canvas.parentNode.querySelector("div");if(!t){t=document.createElement("div"),t.classList.add("chart__tooltip");let o=document.createElement("div");o.classList.add("chart__tooltip--body"),t.style.opacity=1,t.style.pointerEvents="none",t.style.transition="all .2s ease",t.appendChild(o),e.canvas.parentNode.appendChild(t)}return t})(t);if(document.createElement("div").classList.add("chart__tooltip--body"),o.dataPoints[0].dataset.addData){let e=`<span class="chart__tooltip--date">${o.dataPoints[0].label}</span>`,t=`<div class="chart__tooltip--param">${o.dataPoints[0].dataset.label}: \n        <span style="color: ${o.dataPoints[0].dataset.valueColor};">\n          ${o.dataPoints[0].formattedValue}\n        </span>\n      </div>`;e+=t;let s=o.dataPoints[0].dataset.addData,i=o.dataPoints[0].dataIndex;if(0===o.opacity)return void(a.style.opacity=0);s.forEach(t=>{let o=t.data[i];o>=1e3&&(o=(o/1e3).toFixed(1)+"K");let a=t.valueColor;a=a?` style="color: ${a};"`:"";let s=t.valueAfter;s||(s="");let r=`<div class="chart__tooltip--param">${t.label}: \n          <span${a}>${t.data[i]}${s}</span$>\n        </div>`;e+=r});const r=a.querySelector(".chart__tooltip--body");for(;r.firstChild;)r.firstChild.remove();r.insertAdjacentHTML("beforeEnd",e)}else{const e=document.createElement("h4"),t=document.createElement("span"),s=document.createElement("strong");a.style.setProperty("--line-height","0px"),e.classList.add("chart__tooltip--title"),t.classList.add("chart__tooltip--date"),s.classList.add("chart__tooltip--price"),e.textContent=o.dataPoints[0].dataset.label;let i=o.dataPoints[0].dataset.valueText,r=o.dataPoints[0].dataset.valueAfter,l=o.dataPoints[0].dataset.valueColor,n=o.dataPoints[0].raw;if(n>=1e3&&(n=(n/1e3).toFixed(1)+"K"),l&&(s.style.color=l),s.textContent=`${i||""}${n}${r||""}`,0===o.opacity)return void(a.style.opacity=0);if(o.body){if(!o.dataPoints[0].dataset.hideLabel){(o.title||[]).forEach(e=>{t.textContent=e})}const i=a.querySelector(".chart__tooltip--body");for(;i.firstChild;)i.firstChild.remove();i.appendChild(e),o.dataPoints[0].dataset.hideLabel||i.appendChild(t),i.appendChild(s)}}const{offsetLeft:s,offsetTop:i}=t.canvas;let r=0;if(a.closest(".chart-crosshair")){a.closest(".chart-crosshair").querySelectorAll("canvas").forEach(e=>{r+=e.offsetHeight})}o.dataPoints[0].dataset.hideLabel&&a.querySelector(".chart__tooltip--date")&&a.querySelector(".chart__tooltip--date").remove(),a.style.opacity=1,a.style.left=s+o.caretX+"px",a.style.top=i+o.caretY+"px",a.style.font=o.options.bodyFont.string,a.style.padding=o.options.padding+"px "+o.options.padding+"px",r&&a.style.setProperty("--line-height",t.chartArea.height-o.caretY+a.offsetHeight+70+"px")}},legend:{display:!!e.legend&&e.legend},labels:{display:!1,usePointStyle:!0}}},plugins:e.legendContainer&&e.htmlLegendId?[o,s,i]:[s,i]})}function counstructBarChart(e){const t=document.querySelector(e.id),o=e.chartId;if(t){let a,s,i;chart.forEach(e=>{e.canvas.id==o&&(i=e.data.labels.length,a=e.chartArea.width+e.chartArea.left,s=e.chartArea.left)});let r=e.data,l=[],n=document.createElement("div");n.classList.add("chart-bar");for(let e=0;e<r.length;e++)l.push(`\n      <div class="chart-bar-item">\n        <div class="chart-bar-item-plus">\n            <div class="chart-bar-item-value" style="height: ${r[e][0]}%;"></div>\n        </div>\n        <div class="chart-bar-item-minus">\n            <div class="chart-bar-item-value" style="height: ${r[e][1]}%"></div>\n        </div>\n      </div>`);l.forEach(e=>{n.insertAdjacentHTML("beforeEnd",e)}),t.append(n);let c=document.querySelectorAll(".chart-bar-item");n.style.width=a+a/i+"px",n.style.paddingLeft=s+"px",n.style.transform=`translateX(-${c[0].offsetWidth/2}px)`,window.onresize=function(){chart.forEach(e=>{e.canvas.id==o&&(a=e.chartArea.width+e.chartArea.left,s=e.chartArea.left)}),n.style.width=a+a/i+"px",n.style.paddingLeft=s+"px",n.style.transform=`translateX(-${c[0].offsetWidth/2}px)`},e.title&&t.insertAdjacentHTML("afterbegin",`<div class="chart-bar-title">${e.title}</div>`)}}"dark"==localStorage.getItem("godbot-pro-theme")?(body.classList.add("_dark-theme"),chartTextColor="#9899A6",pageBg="rgba(0, 0, 0, 0)"):(body.classList.remove("_dark-theme"),chartTextColor="#262628",pageBg="#FFFFFF");let thisTarget,traderNavCheck=!0;body.addEventListener("click",(function(e){thisTarget=e.target,thisTarget.closest("._burger")&&menu.forEach(e=>{e.classList.toggle("_active")});let t=thisTarget.closest(".login__form--submit");if(t)if(t.classList.contains("_disabled"))e.preventDefault();else{let o=t.closest("form").querySelector(".email-input");o&&validate(o,e)}let o=thisTarget.closest(".login__verification--btn");o&&(o.classList.contains("_disabled")||(o.classList.add("_disabled"),timer()));let a=thisTarget.closest(".header__theme--switch");a&&(a.classList.toggle("_active"),a.classList.contains("_active")?(localStorage.setItem("godbot-pro-theme","dark"),body.classList.add("_dark-theme"),chartTextColor="#9899A6",pageBg="rgba(0, 0, 0, 0)",chart.length&&chart.forEach(e=>{e.options.scales.y.ticks.color=chartTextColor,e.options.scales.x.ticks.color=chartTextColor,e.update()})):a.classList.contains("_active")||(localStorage.setItem("godbot-pro-theme","light"),body.classList.remove("_dark-theme"),chartTextColor="#262628",pageBg="#FFFFFF",chart.length&&chart.forEach(e=>{e.options.scales.y.ticks.color=chartTextColor,e.options.scales.x.ticks.color=chartTextColor,e.update()})));let s=thisTarget.closest(".header__select--selected");s?s.classList.contains("_active")?document.querySelectorAll(".header__select--selected._active").forEach(e=>{e.classList.remove("_active")}):(document.querySelectorAll(".header__select--selected._active").forEach(e=>{e.classList.remove("_active")}),s.classList.add("_active")):thisTarget.closest(".header__select")||document.querySelectorAll(".header__select--selected._active").forEach(e=>{e.classList.remove("_active")});let i=thisTarget.closest(".header__profile--settings-open"),r=document.querySelector(".header__profile--settings");if(i?(e.preventDefault(),r.classList.add("_active")):!r||thisTarget.closest(".header__profile--settings")&&thisTarget.closest(".header__profile--settings-open")&&!thisTarget.closest(".header__profile--settings-close")||r.classList.remove("_active"),thisTarget.closest(".chart__settings--link")){e.preventDefault();let t=document.querySelector(".chart__wrapper");t.parentElement.querySelector(".chart__settings-popup").classList.add("_active"),t.classList.add("_blur")}else if(!thisTarget.closest(".chart__settings-popup")&&!thisTarget.closest(".chart__settings-popup--btn")||thisTarget.closest(".chart__settings-popup--close")){let e=document.querySelector(".chart__wrapper"),t=!!e&&e.parentElement.querySelector(".chart__settings-popup");t&&(t.classList.remove("_active"),e.classList.remove("_blur"))}let l=thisTarget.closest(".trader__tab-nav--link");if(l&&(e.preventDefault(),traderNavCheck)){let e=l.parentElement,t=document.querySelector(".tab-wrapper"),o=l.getAttribute("href");if(!e.classList.contains("_active")&&traderNavCheck){traderNavCheck=!1,document.querySelectorAll(".trader__tab-nav--item").forEach(e=>{e.classList.remove("_prev"),e.classList.remove("_active"),e.classList.remove("_next")}),e.classList.add("_active");let a=e.nextElementSibling,s=e.previousElementSibling;s&&s.classList.add("_prev"),a&&a.classList.add("_next"),document.querySelectorAll(".tab-block").forEach(e=>{e.classList.remove("_visible"),t.style.setProperty("--min-height",t.offsetHeight+"px"),setTimeout(()=>{e.classList.remove("_active")},200)});let i=document.querySelector(o);setTimeout(()=>{i.classList.add("_active"),setTimeout(()=>{i.classList.add("_visible"),traderNavCheck=!0,t.style.setProperty("--min-height","0px")},100)},200)}}let n=thisTarget.closest("._copy-input-btn");if(n){e.preventDefault();let t=n.parentNode.querySelector("._copy-input");t&&copyToClipboard(t)}let c=thisTarget.closest("._slide-btn");if(c&&!c.classList.contains("_sliding")){c.classList.add("_sliding");let e=c.closest("._slide-block"),t=Number(e.dataset.time)?Number(e.dataset.time):1e3,o=e.querySelector("._slide-content");c.classList.contains("_active")?(slideUp(o,t),e.classList.remove("_active"),c.classList.remove("_active")):(slideDown(o,t),c.classList.add("_active"),setTimeout(()=>{e.classList.add("_active")},t)),setTimeout(()=>{c.classList.remove("_sliding")},t)}let d=thisTarget.closest("._open-popup");d&&(e.preventDefault(),popup({id:d.getAttribute("href")?d.getAttribute("href"):d.dataset.id}));let p=thisTarget.closest("._popup-close");if(p){let e=p.closest(".popup");FX.fadeOut(e,{duration:200,complete:function(){p.classList.contains("_remove-popup")&&e.remove()}}),e.classList.remove("_active"),setTimeout(()=>{popupCheckClose=!0},200),header&&header.classList.remove("_popup-active"),setTimeout((function(){body.classList.remove("_popup-active"),html.style.setProperty("--popup-padding","0px")}),200)}let u=thisTarget.closest(".tariffs-popup__slide--promo-open-btn");if(u){u.parentElement.querySelector(".tariffs-popup__slide--promo-block").classList.remove("_hidden"),u.classList.add("_hidden")}let h=thisTarget.closest("._open-min-popup");if(h){h.closest("._min-popup-wrapper").querySelector("._min-popup").classList.add("_active")}else thisTarget.closest("._min-popup")||document.querySelectorAll("._min-popup").forEach(e=>{e.classList.remove("_active")});let m=thisTarget.closest("._open-iframe-popup");if(m){e.preventDefault();let t=m.getAttribute("href"),o=document.createElement("div");o.classList.add("iframe-popup","popup"),o.style.display="none",o.style.opacity="0",o.style.setProperty("--max","1000px"),html.style.setProperty("--popup-padding",scrollBarWidth()+"px"),body.classList.add("_popup-active"),o.innerHTML=`\n      \n      <div class="iframe-popup__wrapper popup-wrapper">\n        <div class="iframe-popup__bg popup-bg _popup-close _remove-popup"></div>\n        <div class="iframe-popup__body popup-body">\n          <button type="button" class="iframe-popup__close-btn popup-close-btn _popup-close">\n            <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <line x1="13.4351" y1="2.06066" x2="1.41424" y2="14.0815" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <line x1="1.06066" y1="1.70703" x2="13.0815" y2="13.7278" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </button>\n          <iframe src="${t}" class="iframe-popup__element"></iframe>\n        </div>\n        </div>\n      \n      `,body.append(o),FX.fadeIn(o,{duration:200,complete:function(){}})}}));const tooltipTriggerList=document.querySelectorAll('[data-bs-toggle="tooltip"]'),tooltipList=[...tooltipTriggerList].map(e=>new bootstrap.Tooltip(e));let verificationInputs=document.querySelectorAll(".login__verification--input");function checkInput(){for(let e=0;e<verificationInputs.length;e++)if(!verificationInputs[e].value)return!0}function timer(){document.querySelectorAll("._timer").forEach(e=>{e.style.display="block",e.nextElementSibling.style.display="none";let t=e.dataset.timer;function o(){e.textContent=t+"s",0==t?(clearTimeout(a),e.parentElement.classList.remove("_disabled"),e.style.display="none",e.nextElementSibling.style.display="block"):t--}t=Number(t.substring(0,e.dataset.timer.length-1)),o();let a=setInterval(o,1e3)})}verificationInputs.forEach(e=>{e.oninput=function(t){if("insertText"==t.inputType){let o=t.target.parentElement.nextElementSibling,a=t.target.closest("form");e.value=e.value[e.value.length-1].replace(/\D/g,"").substr(0,9),o.classList.contains("login__verification--label")&&e.value&&o.querySelector("input").focus(),checkInput()?a.querySelector(".login__form--submit").classList.add("_disabled"):a.querySelector(".login__form--submit").classList.remove("_disabled")}},e.addEventListener("keydown",(function(e){if("Backspace"==e.key||"Delete"==e.key){e.preventDefault(),e.target.value="";let t=e.target.parentElement.previousElementSibling,o=e.target.closest("form");t?t.classList.contains("login__verification--label")&&!e.target.value&&t.querySelector("input").focus():e.target.value="",checkInput()?o.querySelector(".login__form--submit").classList.add("_disabled"):o.querySelector(".login__form--submit").classList.remove("_disabled")}}))}),timer();let loginSlider=new Swiper(".login__slider",{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:".swiper-pagination",clickable:!0}}),tariffsSlider=new Swiper(".tariffs-popup__slider",{spaceBetween:20,slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{992:{slidesPerView:3},600:{slidesPerView:2}}});